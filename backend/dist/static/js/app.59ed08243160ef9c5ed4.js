webpackJsonp([1],{"/KV2":function(t,e){},"2VG7":function(t,e){},CyBA:function(t,e){},"LVZ+":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("k5jX"),o=(a("/KV2"),a("7+uW")),i=a("mvHQ"),n=a.n(i),r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-navbar",{staticClass:"is-primary is-bold"},[a("template",{slot:"brand"},[a("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/"}}},[t._v("\n      PaperHub\n    ")])],1),t._v(" "),a("template",{slot:"start"},[a("b-navbar-item",{on:{click:t.goHome}},[t._v("\n      我的论文\n    ")]),t._v(" "),a("b-navbar-item",{on:{click:t.goPublic}},[t._v("\n      公共论文\n    ")])],1),t._v(" "),a("template",{slot:"end"},[a("b-navbar-item",{attrs:{tag:"div"}},[a("router-view",{attrs:{name:"btn"}})],1)],1)],2)},staticRenderFns:[]};var l={name:"App",components:{"ph-navbar":a("VU/8")({name:"Navbar",components:{},methods:{goHome:function(){this.$router.push("/home").catch(function(){})},goPublic:function(){this.$router.push("/public").catch(function(){})}}},r,!1,function(t){a("s9IH")},"data-v-8a8aef06",null).exports},data:function(){return{}},methods:{saveState:function(){sessionStorage.setItem("state",n()(this.$store.state))}},created:function(){window.addEventListener("unload",this.saveState)}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("ph-navbar"),this._v(" "),e("router-view",{attrs:{name:"main"}})],1)},staticRenderFns:[]};var u=a("VU/8")(l,c,!1,function(t){a("pyZT")},null,null).exports,d=a("/ocq"),p=a("NYxO");o.a.use(p.a);var m=new p.a.Store({state:sessionStorage.getItem("state")?JSON.parse(sessionStorage.getItem("state")):{userInfo:{userStatus:!1,userID:""},adminInfo:{adminStatus:!1}},mutations:{setUserInfo:function(t,e){t.userInfo=e},clearUserInfo:function(t){t.userInfo.userStatus=!1,t.userInfo.userID=""}},actions:{},modules:{}}),f={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"hero is-fullheight-with-navbar is-primary"},[e("div",{staticClass:"hero-body"},[e("div",{staticClass:"has-text-centered container is-fluid"},[e("h1",{staticClass:"title"},[this._v("欢迎使用 PaperHub")])])])])}]};var b=a("VU/8")({name:"Welcome"},f,!1,function(t){a("woEI")},"data-v-4faadc46",null).exports,h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"is-fullheight-with-navbar"},[a("b-table",{attrs:{data:t.tableData,striped:!0}},[a("b-table-column",{attrs:{field:"id",label:"用户ID",width:"140",centered:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(e.row.userID)+"\n    ")]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"用户名",width:"160",centered:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(e.row.username)+"\n    ")]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"密码",width:"160",centered:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(e.row.password)+"\n    ")]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"编辑",width:"180",centered:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-button",{attrs:{size:"is-small",type:"is-warning","icon-right":"refresh"},on:{click:function(a){return t.modifyInfo(e.row.userID)}}})]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"删除用户",width:"160",centered:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-button",{attrs:{size:"is-small",type:"is-danger","icon-right":"delete"},on:{click:function(a){return t.deleteUser(e.row.userID)}}})]}}])})],1),t._v(" "),a("div",{staticClass:"hero"},[a("button",{staticClass:"button field is-primary",on:{click:function(e){t.isCreateModalActive=!0}}},[t._v("\n      新建用户\n    ")])]),t._v(" "),a("b-modal",{attrs:{active:t.isCreateModalActive,"has-modal-card":"","trap-focus":"","aria-role":"dialog","aria-modal":""},on:{"update:active":function(e){t.isCreateModalActive=e}}},[a("form",{attrs:{action:" "}},[a("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("新建用户")])]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("b-field",{attrs:{label:"用户名"}},[a("b-input",{attrs:{required:""},model:{value:t.userNameinModal,callback:function(e){t.userNameinModal=e},expression:"userNameinModal"}})],1),t._v(" "),a("b-field",{attrs:{label:"密码"}},[a("b-input",{attrs:{required:""},model:{value:t.pwdinModal,callback:function(e){t.pwdinModal=e},expression:"pwdinModal"}})],1)],1),t._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("b-button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.isCreateModalActive=!1}}},[t._v("关闭")]),t._v(" "),a("b-button",{staticClass:"button is-primary",on:{click:t.createUser}},[t._v("新建")])],1)])])]),t._v(" "),a("b-modal",{attrs:{active:t.isUpdateModalActive,"has-modal-card":"","trap-focus":"","aria-role":"dialog","aria-modal":""},on:{"update:active":function(e){t.isUpdateModalActive=e}}},[a("form",{attrs:{action:" "}},[a("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("修改个人信息")])]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("b-field",{attrs:{label:"用户名"}},[a("b-input",{attrs:{required:""},model:{value:t.userNameinModal,callback:function(e){t.userNameinModal=e},expression:"userNameinModal"}})],1),t._v(" "),a("b-field",{attrs:{label:"新密码"}},[a("b-input",{attrs:{required:""},model:{value:t.pwdinModal,callback:function(e){t.pwdinModal=e},expression:"pwdinModal"}})],1)],1),t._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("b-button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.isModalActive=!1}}},[t._v("关闭")]),t._v(" "),a("b-button",{staticClass:"button is-primary",on:{click:t.updateUserInfo}},[t._v("修改")])],1)])])])],1)},staticRenderFns:[]};var v=a("VU/8")({name:"Navbar",components:{},data:function(){return{tableData:[],userInfoLists:[{userID:1,userName:"abc",pwd:123456},{userID:2,userName:"abc",pwd:123456},{userID:3,userName:"abc",pwd:123456},{userID:4,userName:"abc",pwd:123456},{userID:5,userName:"abc",pwd:123456}],isCreateModalActive:!1,isUpdateModalActive:!1,userNameinModal:"",pwdinModal:"",categorySelected:0}},mounted:function(){for(var t=0;t<this.userInfoLists.length;t++){var e={userID:this.userInfoLists[t].userID,username:this.userInfoLists[t].userName,password:this.userInfoLists[t].pwd};this.tableData.push(e)}},methods:{queryUser:function(){},modifyInfo:function(t){this.categorySelected=t,this.isUpdateModalActive=!0},createUser:function(){var t={userID:this.tableData.length+1,username:this.userNameinModal,password:this.pwdinModal};this.tableData.push(t),this.userNameinModal="",this.pwdinModal="",this.isCreateModalActive=!1},deleteUser:function(t){this.tableData=this.tableData.filter(function(e){return e.userID!=t})},updateUserInfo:function(){for(var t=0;t<this.tableData.length;t++)this.tableData[t].userID==this.categorySelected&&(this.tableData[t].username=this.userNameinModal,this.tableData[t].password=this.pwdinModal);this.userNameinModal="",this.pwdinModal="",this.isUpdateModalActive=!1}}},h,!1,function(t){a("jUZc")},"data-v-75fb340f",null).exports,g={name:"PublicTable",components:{},data:function(){return{curCategoryID:null,tableData:[],comments:[],isCreateModalActive:!1,commentInModal:""}},mounted:function(){this.curCategoryID=this.$route.query.id,this.retrieveComment()},methods:{retrieveComment:function(){var t=this,e="http://localhost:8000/api/retrieveComment?categoryID="+this.curCategoryID;this.$axios.get(e).then(function(e){t.comments=e.data.msg,t.tableData=[];for(var a=0;a<t.comments.length;a++){var s={id:a+1,content:t.comments[a].content,userID:t.comments[a].userID,date:t.comments[a].date};t.tableData.push(s)}}).catch(function(t){console.log(t)})},createComment:function(){var t=this,e=this.$qs.stringify({content:this.commentInModal,categoryID:this.curCategoryID});this.$axios.post("http://localhost:8000/api/createComment",e).then(function(e){t.commentInModal="",t.isCreateModalActive=!1,t.retrieveComment()}).catch(function(t){console.log(t)})}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("b-table",{attrs:{data:t.tableData}},[a("b-table-column",{attrs:{field:"original_title",label:"序号",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(e.row.id)+"\n    ")]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"评论",width:"1000"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(e.row.content)+"\n    ")]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"作者"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(e.row.userID)+"\n    ")]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(e.row.date)+"\n    ")]}}])})],1),t._v(" "),a("div",{staticClass:"hero"},[a("button",{staticClass:"button field is-primary",on:{click:function(e){t.isCreateModalActive=!0}}},[t._v("\n      添加评论\n    ")])]),t._v(" "),a("b-modal",{attrs:{active:t.isCreateModalActive,"has-modal-card":"","trap-focus":"","aria-role":"dialog","aria-modal":""},on:{"update:active":function(e){t.isCreateModalActive=e}}},[a("form",{attrs:{action:" "}},[a("div",{staticClass:"modal-card",staticStyle:{width:"800px"}},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("新评论")])]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("b-field",{attrs:{label:"内容"}},[a("b-input",{attrs:{maxlength:"1000",type:"textarea",required:""},model:{value:t.commentInModal,callback:function(e){t.commentInModal=e},expression:"commentInModal"}})],1)],1),t._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("b-button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.isCreateModalActive=!1}}},[t._v("关闭")]),t._v(" "),a("b-button",{staticClass:"button is-primary",on:{click:t.createComment}},[t._v("新建")])],1)])])])],1)},staticRenderFns:[]};var y=a("VU/8")(g,_,!1,function(t){a("medH")},"data-v-fabcbffe",null).exports,C={data:function(){return{adminID:"",password:""}},methods:{login:function(){console.log(this.adminID,this.password)}}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"section"},[a("div",{staticClass:"level"},[a("p",{staticClass:"level-item has-text-centered"},[a("b-field",[a("b-input",{attrs:{placeholder:"管理员用户名",size:"is-large",icon:"account",required:""},model:{value:t.adminID,callback:function(e){t.adminID=e},expression:"adminID"}})],1)],1)]),t._v(" "),a("div",{staticClass:"level"},[a("p",{staticClass:"level-item has-text-centered"},[a("b-input",{attrs:{placeholder:"管理员密码",size:"is-large",icon:"key",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)]),t._v(" "),a("b-field",{attrs:{grouped:"",position:"is-centered"}},[a("p",{staticClass:"control"},[a("button",{staticClass:"button is-primary",on:{click:t.login}},[t._v("登 录")])])])],1)},staticRenderFns:[]},M=a("VU/8")(C,I,!1,null,null,null).exports,w={name:"CategoriesTable",components:{},data:function(){return{tableData:[],categories:[],isCreateModalActive:!1,isUpdateModalActive:!1,categoryNameInModal:"",categorySelected:0}},mounted:function(){this.retrieveCategory()},methods:{retrieveCategory:function(){var t=this,e="http://localhost:8000/api/retrieveCategory?userID="+this.$store.state.userInfo.userID;this.$axios.get(e).then(function(e){t.categories=e.data.msg,t.tableData=[];for(var a=0;a<t.categories.length;a++){var s={id:a+1,categoryName:t.categories[a].categoryName,isPublic:t.categories[a].isPublic,categoryID:t.categories[a].categoryID};t.tableData.push(s)}}).catch(function(t){console.log(t)})},createCategory:function(t){var e=this,a=this.$qs.stringify({categoryName:this.categoryNameInModal,isPublic:"False"});this.$axios.post("http://localhost:8000/api/createCategory",a).then(function(t){e.categoryNameInModal="",e.isCreateModalActive=!1,e.retrieveCategory()}).catch(function(t){console.log(t)})},deleteCategory:function(t){var e=this,a=this.$qs.stringify({categoryID:t});this.$axios.post("http://localhost:8000/api/deleteCategory",a).then(function(t){e.retrieveCategory()}).catch(function(t){console.log(t)})},updateCategory:function(t,e,a){var s=this,o=this.$qs.stringify({categoryID:t,categoryName:e,isPublic:a});this.$axios.post("http://localhost:8000/api/updateCategory",o).then(function(t){s.retrieveCategory()}).catch(function(t){console.log(t)})},selectCategory:function(t){this.categorySelected=t,this.isUpdateModalActive=!0},changeName:function(){for(var t="False",e=0;e<this.tableData.length;e++)this.tableData[e].categoryID==this.categorySelected&&(t=this.tableData[e].isPublic?"True":"False");this.updateCategory(this.categorySelected,this.categoryNameInModal,t),this.categoryNameInModal="",this.isUpdateModalActive=!1},changeStatus:function(t){for(var e="False",a="",s=0;s<this.tableData.length;s++)this.tableData[s].categoryID==t&&(e=this.tableData[s].isPublic?"True":"False",a=this.tableData[s].categoryName);this.updateCategory(t,a,e)},enterCategory:function(t){this.$router.push({path:"/papers",query:{id:t}})}}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"is-fullheight-with-navbar"},[a("b-table",{attrs:{data:t.tableData,striped:!0}},[a("b-table-column",{attrs:{field:"id",label:"序号",width:"100",centered:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.id)+"\n        ")]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"categoryName",label:"分类",centered:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.categoryName)+"\n        ")]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"进入分类",width:"100",centered:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-button",{attrs:{size:"is-small",type:"is-info","icon-right":"apps"},on:{click:function(a){return t.enterCategory(e.row.categoryID)}}})]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"是否公开",width:"140",centered:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("section",[a("b-switch",{attrs:{type:"is-info"},on:{input:function(a){return t.changeStatus(e.row.categoryID)}},model:{value:e.row.isPublic,callback:function(a){t.$set(e.row,"isPublic",a)},expression:"props.row.isPublic"}})],1)]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"编辑名称",width:"100",centered:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-button",{attrs:{size:"is-small",type:"is-warning","icon-right":"refresh"},on:{click:function(a){return t.selectCategory(e.row.categoryID)}}})]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"删除",width:"100",centered:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-button",{attrs:{size:"is-small",type:"is-danger","icon-right":"delete"},on:{click:function(a){return t.deleteCategory(e.row.categoryID)}}})]}}])})],1),t._v(" "),a("div",{staticClass:"hero"},[a("button",{staticClass:"button field is-primary",on:{click:function(e){t.isCreateModalActive=!0}}},[t._v("\n      新建分类\n    ")])]),t._v(" "),a("b-modal",{attrs:{active:t.isCreateModalActive,"has-modal-card":"","trap-focus":"","aria-role":"dialog","aria-modal":""},on:{"update:active":function(e){t.isCreateModalActive=e}}},[a("form",{attrs:{action:" "}},[a("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("新建分类")])]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("b-field",{attrs:{label:"分类名字"}},[a("b-input",{attrs:{required:""},model:{value:t.categoryNameInModal,callback:function(e){t.categoryNameInModal=e},expression:"categoryNameInModal"}})],1)],1),t._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("b-button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.isCreateModalActive=!1}}},[t._v("关闭")]),t._v(" "),a("b-button",{staticClass:"button is-primary",on:{click:t.createCategory}},[t._v("新建")])],1)])])]),t._v(" "),a("b-modal",{attrs:{active:t.isUpdateModalActive,"has-modal-card":"","trap-focus":"","aria-role":"dialog","aria-modal":""},on:{"update:active":function(e){t.isUpdateModalActive=e}}},[a("form",{attrs:{action:" "}},[a("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("修改分类")])]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("b-field",{attrs:{label:"分类名字"}},[a("b-input",{attrs:{required:""},model:{value:t.categoryNameInModal,callback:function(e){t.categoryNameInModal=e},expression:"categoryNameInModal"}})],1)],1),t._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("b-button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.isModalActive=!1}}},[t._v("关闭")]),t._v(" "),a("b-button",{staticClass:"button is-primary",on:{click:t.changeName}},[t._v("修改")])],1)])])])],1)},staticRenderFns:[]};var k=a("VU/8")(w,D,!1,function(t){a("2VG7")},"data-v-2f060ba4",null).exports,A={name:"PublicTable",components:{},data:function(){return{tableData:[],categories:[{categoryName:"c1",userName:"a"},{categoryName:"c2",userName:"b"},{categoryName:"c3",userName:"c"},{categoryName:"c4",userName:"d"},{categoryName:"c5",userName:"e"}]}},methods:{enterCategory:function(t){this.$router.push({path:"/papers",query:{id:t}})},goAndQueryComments:function(t){this.$router.push({path:"/comments",query:{id:t}})}},mounted:function(){var t=this;this.$axios.get("http://localhost:8000/api/retrievePublicCategories").then(function(e){t.categories=e.data.msg,t.tableData=[];for(var a=0;a<t.categories.length;a++){var s={id:a+1,categoryName:t.categories[a].categoryName,categoryID:t.categories[a].categoryID,userID:t.categories[a].userID};t.tableData.push(s)}}).catch(function(t){console.log(t)})}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("b-table",{attrs:{data:t.tableData,striped:!0}},[a("b-table-column",{attrs:{field:"id",label:"序号",width:"100",centered:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.id)+"\n        ")]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"categoryName",label:"分类名",centered:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.categoryName)+"\n        ")]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"userName",label:"创建人",centered:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.userName)+"\n        ")]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"进入分类",width:"100",centered:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-button",{attrs:{size:"is-small",type:"is-info","icon-right":"apps"},on:{click:function(a){return t.enterCategory(e.row.categoryID)}}})]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"查看评论",width:"100",centered:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-button",{attrs:{size:"is-small",type:"is-warning"},on:{click:function(a){return t.goAndQueryComments(e.row.categoryID)}}},[t._v("...")])]}}])})],1)],1)},staticRenderFns:[]};var S=a("VU/8")(A,N,!1,function(t){a("LVZ+")},"data-v-6291698f",null).exports,x={name:"PapersTable",components:{},data:function(){return{curCategoryID:null,tableData:[],papers:[],isCreateModalActive:!1,isUpdateModalActive:!1,urlInModal:"",titleInModal:"",authorInModal:"",descriptionInModal:"",paperSelected:0}},mounted:function(){this.curCategoryID=this.$route.query.id,this.retrievePaper()},methods:{retrievePaper:function(){var t=this,e="http://localhost:8000/api/retrievePaper?categoryID="+this.curCategoryID;this.$axios.get(e).then(function(e){t.papers=e.data.msg,t.tableData=[];for(var a=0;a<t.papers.length;a++){var s={id:a+1,url:t.papers[a].url,title:t.papers[a].title,author:t.papers[a].author,description:t.papers[a].description,paperID:t.papers[a].paperID};t.tableData.push(s)}}).catch(function(t){console.log(t)})},createPaper:function(t){var e=this,a=this.$qs.stringify({categoryID:this.curCategoryID,url:this.urlInModal,title:this.titleInModal,author:this.authorInModal,description:this.descriptionInModal});this.$axios.post("http://localhost:8000/api/createPaper",a).then(function(t){e.urlInModal="",e.titleInModal="",e.authorInModal="",e.descriptionInModal="",e.isCreateModalActive=!1,e.retrievePaper()}).catch(function(t){console.log(t)})},deletePaper:function(t){var e=this,a=this.$qs.stringify({paperID:t});this.$axios.post("http://localhost:8000/api/deletePaper",a).then(function(t){e.retrievePaper()}).catch(function(t){console.log(t)})},selectPaper:function(t){this.paperSelected=t,this.isUpdateModalActive=!0},updatePaper:function(){var t=this,e=this.$qs.stringify({paperID:this.paperSelected,url:this.urlInModal,title:this.titleInModal,author:this.authorInModal,description:this.descriptionInModal});this.$axios.post("http://localhost:8000/api/updatePaper",e).then(function(e){t.retrievePaper(),t.urlInModal="",t.titleInModal="",t.authorInModal="",t.descriptionInModal="",t.isUpdateModalActive=!1}).catch(function(t){console.log(t)})}}},q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"is-fullheight-with-navbar"},[a("b-table",{attrs:{data:t.tableData,striped:!0}},[a("b-table-column",{attrs:{field:"id",label:"序号",width:"100",centered:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.id)+"\n        ")]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"url",label:"论文链接",centered:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("a",{attrs:{href:e.row.url}},[t._v(t._s(e.row.url))])])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"title",label:"标题",centered:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.title)+"\n        ")]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"作者",width:"100",centered:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.author)+"\n        ")]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"描述",centered:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n           "+t._s(e.row.description)+" \n        ")]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"编辑名称",width:"100",centered:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-button",{attrs:{size:"is-small",type:"is-warning","icon-right":"refresh"},on:{click:function(a){return t.selectPaper(e.row.paperID)}}})]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"删除",width:"100",centered:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-button",{attrs:{size:"is-small",type:"is-danger","icon-right":"delete"},on:{click:function(a){return t.deletePaper(e.row.paperID)}}})]}}])})],1),t._v(" "),a("div",{staticClass:"hero"},[a("button",{staticClass:"button field is-primary",on:{click:function(e){t.isCreateModalActive=!0}}},[t._v("\n          新增论文\n      ")])]),t._v(" "),a("b-modal",{attrs:{active:t.isCreateModalActive,"has-modal-card":"","trap-focus":"","aria-role":"dialog","aria-modal":""},on:{"update:active":function(e){t.isCreateModalActive=e}}},[a("form",{attrs:{action:" "}},[a("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("新建论文")])]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("b-field",{attrs:{label:"论文链接"}},[a("b-input",{attrs:{required:""},model:{value:t.urlInModal,callback:function(e){t.urlInModal=e},expression:"urlInModal"}})],1),t._v(" "),a("b-field",{attrs:{label:"标题"}},[a("b-input",{attrs:{required:""},model:{value:t.titleInModal,callback:function(e){t.titleInModal=e},expression:"titleInModal"}})],1),t._v(" "),a("b-field",{attrs:{label:"作者"}},[a("b-input",{attrs:{required:""},model:{value:t.authorInModal,callback:function(e){t.authorInModal=e},expression:"authorInModal"}})],1),t._v(" "),a("b-field",{attrs:{label:"描述"}},[a("b-input",{attrs:{required:""},model:{value:t.descriptionInModal,callback:function(e){t.descriptionInModal=e},expression:"descriptionInModal"}})],1)],1),t._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("b-button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.isCreateModalActive=!1}}},[t._v("关闭")]),t._v(" "),a("b-button",{staticClass:"button is-primary",on:{click:t.createPaper}},[t._v("新建")])],1)])])]),t._v(" "),a("b-modal",{attrs:{active:t.isUpdateModalActive,"has-modal-card":"","trap-focus":"","aria-role":"dialog","aria-modal":""},on:{"update:active":function(e){t.isUpdateModalActive=e}}},[a("form",{attrs:{action:" "}},[a("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("修改论文")])]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("b-field",{attrs:{label:"论文链接"}},[a("b-input",{attrs:{required:""},model:{value:t.urlInModal,callback:function(e){t.urlInModal=e},expression:"urlInModal"}})],1),t._v(" "),a("b-field",{attrs:{label:"标题"}},[a("b-input",{attrs:{required:""},model:{value:t.titleInModal,callback:function(e){t.titleInModal=e},expression:"titleInModal"}})],1),t._v(" "),a("b-field",{attrs:{label:"作者"}},[a("b-input",{attrs:{required:""},model:{value:t.authorInModal,callback:function(e){t.authorInModal=e},expression:"authorInModal"}})],1),t._v(" "),a("b-field",{attrs:{label:"描述"}},[a("b-input",{attrs:{required:""},model:{value:t.descriptionInModal,callback:function(e){t.descriptionInModal=e},expression:"descriptionInModal"}})],1)],1),t._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("b-button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.isUpdateModalActive=!1}}},[t._v("关闭")]),t._v(" "),a("b-button",{staticClass:"button is-primary",on:{click:t.updatePaper}},[t._v("修改")])],1)])])])],1)},staticRenderFns:[]};var $=a("VU/8")(x,q,!1,function(t){a("ab0h")},"data-v-79c77e82",null).exports,U={name:"LogoutBtn",methods:{logout:function(){this.$router.push("/"),this.$store.commit("clearUserInfo");this.$axios.post("http://localhost:8000/signOut").then(function(t){}).catch(function(t){console.log(t)}),document.cookie=""}}},P={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("b-tag",{attrs:{type:"is-large is-primary"}},[this._v(this._s(this.$store.state.userInfo.userID))]),this._v(" "),e("button",{staticClass:"button",on:{click:this.logout}},[this._v("\n    注 销\n  ")])],1)},staticRenderFns:[]};var R=a("VU/8")(U,P,!1,function(t){a("WyXZ")},"data-v-3c7a2484",null).exports,V={name:"Btns",data:function(){return{userName:"",password:"",isRegisterModalActive:!1,isLoginModalActive:!1}},methods:{register:function(){var t=this,e=this.$qs.stringify({username:this.userName,password:this.password});this.$axios.post("http://localhost:8000/signUp",e).then(function(e){0==e.data.code?(alert("注册成功"),t.isRegisterModalActive=!1,t.userName="",t.password=""):alert("注册失败")}).catch(function(t){alert("注册异常"),console.log(t)})},login:function(){var t=this;if(1!=this.$store.state.userInfo.userStatus){var e=this.$qs.stringify({username:this.userName,password:this.password});this.$axios.post("http://localhost:8000/signIn",e).then(function(e){if(0==e.data.code){t.isRegisterModalActive=!1;var a={userStatus:!0,userID:t.userName};t.$store.commit("setUserInfo",a),t.$router.push("/home"),t.userName="",t.password=""}else alert("登录失败")}).catch(function(t){alert("登录异常"),console.log(t)})}else alert("已有用户登录")}}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"buttons"},[a("b-button",{staticClass:"button is-info",on:{click:function(e){t.isRegisterModalActive=!0}}},[t._v("注 册")]),t._v(" "),a("b-button",{staticClass:"button is-light",on:{click:function(e){t.isLoginModalActive=!0}}},[t._v("登 录")]),t._v(" "),a("b-modal",{attrs:{active:t.isRegisterModalActive,"has-modal-card":"","trap-focus":"","aria-role":"dialog","aria-modal":""},on:{"update:active":function(e){t.isRegisterModalActive=e}}},[a("form",{attrs:{action:""}},[a("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("注册")])]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("b-field",{attrs:{label:"昵称"}},[a("b-input",{attrs:{type:"userName",required:""},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}})],1),t._v(" "),a("b-field",{attrs:{label:"密码"}},[a("b-input",{attrs:{required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("b-button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.isRegisterModalActive=!1}}},[t._v("关闭")]),t._v(" "),a("b-button",{staticClass:"button is-primary",on:{click:t.register}},[t._v("注册")])],1)])])]),t._v(" "),a("b-modal",{attrs:{active:t.isLoginModalActive,"has-modal-card":"","trap-focus":"","aria-role":"dialog","aria-modal":""},on:{"update:active":function(e){t.isLoginModalActive=e}}},[a("form",{attrs:{action:""}},[a("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("登录")])]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("b-field",{attrs:{label:"昵称"}},[a("b-input",{attrs:{type:"userName",required:""},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}})],1),t._v(" "),a("b-field",{attrs:{label:"密码"}},[a("b-input",{attrs:{type:"password","password-reveal":"",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),a("b-checkbox",[t._v("记住我")])],1),t._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("b-button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.isLoginModalActive=!1}}},[t._v("关闭")]),t._v(" "),a("b-button",{staticClass:"button is-primary",on:{click:t.login}},[t._v("登录")])],1)])])])],1)},staticRenderFns:[]};var F=a("VU/8")(V,E,!1,function(t){a("CyBA")},"data-v-7ce244c2",null).exports;o.a.use(d.a);var L=[{path:"/",components:{main:b,btn:F},meta:{requireAuth:!1,requireAdmin:!1}},{path:"/home",components:{main:k,btn:R},meta:{requireAuth:!0,requireAdmin:!1}},{path:"/public",components:{main:S,btn:R},meta:{requireAuth:!0,requireAdmin:!1}},{path:"/papers",components:{main:$,btn:R},meta:{requireAuth:!0,requireAdmin:!1}},{path:"/comments",components:{main:y,btn:R},meta:{requireAuth:!0,requireAdmin:!1}},{path:"/adminlogin",components:{main:M},meta:{requireAuth:!1,requireAdmin:!1}},{path:"/adminpage",components:{main:v},meta:{requireAuth:!1}}],z=new d.a({mode:"history",routes:L});z.beforeEach(function(t,e,a){t.meta.requireAuth?1==m.state.userInfo.userStatus?a():(alert("请先登录"),a("/")):t.meta.requireAdmin?1==m.state.adminInfo.adminStatus?a():(alert("请先登录管理员账号"),a("/")):a()});var H=z,T=a("mtWM"),Z=a.n(T),O=a("mw3O"),W=a.n(O);Z.a.defaults.withCredentials=!0,o.a.prototype.$axios=Z.a,o.a.prototype.$qs=W.a,o.a.use(s.a),o.a.config.productionTip=!1,new o.a({el:"#app",router:H,store:m,components:{App:u},template:"<App/>"})},WyXZ:function(t,e){},ab0h:function(t,e){},jUZc:function(t,e){},medH:function(t,e){},pyZT:function(t,e){},s9IH:function(t,e){},woEI:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.59ed08243160ef9c5ed4.js.map